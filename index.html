<!DOCTYPE html>
<html>
<head>
  <title>Life Balance Pie Chart</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body style="font-family: Arial; text-align: center; padding: 40px;">

<h2>Life Balance Pie Chart</h2>
<canvas id="chartCanvas" width="500" height="500"></canvas>

<script>
function getParam(name) {
  const urlParams = new URLSearchParams(window.location.search);
  return parseFloat(urlParams.get(name)) || 0;
}

const labels = [
  "Family",
  "Friends",
  "Work",
  "Sleep/Rest",
  "Eating/Food Prep",
  "Health/Fitness",
  "Self-Improvement",
  "Hobbies",
  "Service/Charity",
  "Spirituality",
  "Self-Care",
  "Other 1",
  "Other 2"
];

const dataValues = [
  getParam("family"),
  getParam("friends"),
  getParam("work"),
  getParam("sleep"),
  getParam("eating"),
  getParam("health"),
  getParam("self_improvement"),
  getParam("hobbies"),
  getParam("service"),
  getParam("spirituality"),
  getParam("self_care"),
  getParam("other1"),
  getParam("other2")
];

const ctx = document.getElementById("chartCanvas").getContext("2d");

new Chart(ctx, {
  type: "pie",
  data: {
    labels: labels,
    datasets: [{
      data: dataValues
    }]
  },
  options: {
    responsive: true
  }
});
</script>

</body>
</html>
